<template>
    <t-dialog
    v-model:visible="visible"
    :footer="false"
    width="800"
    placement="center"
    >
        <template #header>
            ğŸŒˆ
            {{ title[i18n.language] }} v{{app.version}}
        </template>
        <div class="scrollbar">
            <h3>ğŸš€ Features</h3>
            <div class="part" style="width: 100%">
                <t-tag theme="primary" variant="light" style="margin-bottom: 5px;">Manage</t-tag>
                <div>
                    <div>
                        æ–°å¢èœå•â€œç®¡ç†â€ï¼Œä»¥åŠå­èœå•â€œç”¨æˆ·ç®¡ç†â€ï¼Œâ€œç”¨æˆ·ç»„ç®¡ç†â€ï¼Œâ€œAppç®¡ç†â€ï¼Œâ€œåº—é“ºç®¡ç†â€
                    </div>
                    <div>
                        New menu "Management" and submenus "User Management", "User Group Management", "App Management", "Shop Management" added.
                    </div>
                </div>
            </div>
            <div class="part" style="width: 100%">
                <t-tag theme="primary" variant="light" style="margin-bottom: 5px;">Import</t-tag>
                <div>
                    <div>
                        ä¿®æ”¹å¯¼å…¥æ–¹å¼è§„åˆ™ï¼Œä½¿æ•´ä½“æ›´æ™ºèƒ½ï¼Œå‡ºé”™ç‡é™ä½ã€‚
                    </div>
                    <div>
                        Modify the import method rules to make the overall system more intelligent and reduce error rates.
                    </div>
                </div>
            </div>
            <div class="part" style="width: 100%">
                <t-tag theme="primary" variant="light" style="margin-bottom: 5px;">Update</t-tag>
                <div>
                    <div>
                        æ–°å¢é¡µé¢æ›´æ–°è‡ªåŠ¨æ£€æµ‹
                    </div>
                    <div>
                        Automatic detection of new page updates.
                    </div>
                </div>
            </div>
            <h3>ğŸŒˆ Changes</h3>
            <div class="part" style="width: 100%">
                <t-tag theme="primary" variant="light" style="margin-bottom: 5px;">Frame</t-tag>
                <div>
                    <div>
                        ä¿®æ”¹APIè¯·æ±‚æ–¹å¼ä¸ºå¸¦ç­¾åè¯·æ±‚ï¼Œä½¿æ•°æ®æ›´å®‰å…¨ï¼Œå¹¶ä¸”æƒé™å¯æ§ã€‚
                    </div>
                    <div>
                        Modify the API request method to include signed requests to make data more secure and permissions controllable.
                    </div>
                </div>
            </div>
            <h3>ğŸš« Removes</h3>
            <div class="part" style="width: 100%">
                <t-tag theme="danger" variant="light" style="margin-bottom: 5px;">Source</t-tag>
                <div>
                    <div>
                        åœç”¨åŠŸèƒ½â€œè¿”å›æ—§ç‰ˆç½‘é¡µâ€
                    </div>
                    <div>
                        Deactivate feature 'Return to old version webpage'.
                    </div>
                </div>
            </div>
            <div class="part" style="width: 100%">
                <t-tag theme="danger" variant="light" style="margin-bottom: 5px;">Source</t-tag>
                <div>
                    <div>
                        ç§»é™¤é¡µé¢â€œå¼€æºä»£ç â€
                    </div>
                    <div>
                        Remove page "open source code"
                    </div>
                </div>
            </div>
            <div class="part" style="width: 100%">
                <t-tag theme="danger" variant="light" style="margin-bottom: 5px;">Language</t-tag>
                <div>
                    <div>
                        ç§»é™¤è¯­è¨€â€œæ³°è¯­â€
                    </div>
                    <div>
                        Remove language "Thai"
                    </div>
                </div>
            </div>
        </div>
        <div class="sign">
            <t-icon name="chevron-right" /> Powered by Limit Au
        </div>
    </t-dialog>
</template>

<script setup>
import app from '../../package.json'
const visible = ref(false)
const i18n = inject('i18n')
const title = {
    'zh': 'æ›´æ–°è¯´æ˜',
    'en': 'Update instructions',
    'jp': 'æ›´æ–°èª¬æ˜',
    'kor': 'ì—…ë°ì´íŠ¸ ì„¤ëª…',
    'fra': 'Instructions de mise Ã  jour',
    'cht': 'æ›´æ–°èªªæ˜'
}
onMounted(() => {
    const version = localStorage.getItem('version');
    if(version !== app.version){
        visible.value = true
    }
    localStorage.setItem('version', app.version)
})
</script>

<style scoped>
.part {
    font-size: 12px;
    margin: 12px 0 6px 0;
    display: flex;
    gap: 26px;
}
.scrollbar {
    max-height: 65vh;
    overflow-x: visible;
    overflow-y: auto;
}
.sign {
    display: inline-block;
    margin-top: 16px;
    padding: 6px 15px;
    background-color: var(--td-brand-color-focus);
    border-radius: 5px;
}
</style>